(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,n){e.exports=n(83)},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),i=n.n(c),o=n(11),s=n(21),l=n(18),u=n(46),h=n(42),m=n.n(h),d=n(12),p=n.n(d),g=n(23),f=n(26),v=n(43),b=n.n(v),E=function(e){return{type:"GET_LATEST_NEWS",category:e}},w=function(e,t){return{type:"UPDATE_NEWS_SUCCESS",data:e,category:t}},y=function(e,t){return{type:"UPDATE_NEWS_FAILURE",data:e,category:t}},N=function(e){return{type:"APP_ONLINE",online:e}};function _(e){return e.replace(/[\W_]+/g,"-").toLowerCase()}var O=p.a.mark(S),j=p.a.mark(C),k=p.a.mark(T),x=p.a.mark(A);function S(e){var t,n,a,r;return p.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t="home"===e.category?"general":e.category,c.prev=1,c.next=4,b.a.get("https://newsapi.org/v2/top-headlines?country=us&category=".concat(t,"&apiKey=4d0e3b7a4c014287a7bf2b3b52d5edf3"));case 4:return n=c.sent,c.next=7,n.data.articles;case 7:return a=c.sent,r=a.map(function(e){var t=_(e.title);return Object(g.a)({},e,{id:t})}),c.next=11,Object(f.a)(w(r,t));case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(1),c.next=17,Object(f.a)(y(c.t0,t));case 17:case"end":return c.stop()}},O,null,[[1,13]])}function C(){var e;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=!0,window.navigator.onLine||(e=!1),t.next=4,Object(f.a)(N(e));case 4:case"end":return t.stop()}},j)}function T(e){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:return t.next=4,C();case 4:case"end":return t.stop()}},k)}function A(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)("GET_LATEST_NEWS",T);case 2:case"end":return e.stop()}},x)}var W=n(24),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NEWS_SUCCESS":return Object(g.a)({},e,Object(W.a)({},"".concat(t.category),{articles:t.data,status:"ok"}));case"UPDATE_NEWS_FAILURE":return Object(g.a)({},e,Object(W.a)({},"".concat(t.category),{articles:e["".concat(t.category)]?e["".concat(t.category)].articles:[],status:"error"}));default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{online:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_ONLINE":return{online:t.online};default:return e}},D=Object(u.a)(A),L=Object(l.c)({newsReducer:P,onlineStatusReducer:U}),R=Object(l.e)(L,Object(l.a)(D,m.a));D.run(A);var I=R,H=[{route:"home",category:"general"},{route:"business",category:"business"},{route:"entertainment",category:"entertainment"},{route:"health",category:"health"},{route:"science",category:"science"},{route:"sports",category:"sports"},{route:"technology",category:"technology"}],M=n(13),B=n(14),F=n(17),G=n(15),J=n(16),K=n(10),$=function(e){var t=e.item,n=e.onClick;return r.a.createElement("li",{className:"navigation__main__list-item",onClick:n},r.a.createElement(o.c,{to:"/".concat(t.route),className:"navigation__main__list-item__link",activeClassName:"navigation__main__list-item__link--active"},t.route))},q=function(e){var t=e.routes,n=e.hideNavigation;return r.a.createElement("ul",{className:"navigation__main"},t.map(function(e,t){return r.a.createElement($,{key:t,item:e,onClick:n})}))},z=function(e){var t=e.routes,n=e.hideNavigation;return r.a.createElement("nav",{className:"navigation"},r.a.createElement(q,{routes:t,hideNavigation:n}))},Q=function(e){var t=e.showNavigation,n=e.hideNavigation;return r.a.createElement("section",{className:"header-content__mobile-buttons"},r.a.createElement("span",{className:"header-content__mobile-buttons__menu",onClick:t},"Menu"),r.a.createElement("span",{onClick:n},"x"))},V=function(e){function t(){var e;return Object(M.a)(this,t),(e=Object(F.a)(this,Object(G.a)(t).call(this))).state={headerHidden:!0},e.hideNavigation=e.hideNavigation.bind(Object(K.a)(Object(K.a)(e))),e.showNavigation=e.showNavigation.bind(Object(K.a)(Object(K.a)(e))),e}return Object(J.a)(t,e),Object(B.a)(t,[{key:"hideNavigation",value:function(){this.setState({headerHidden:!0}),window.scrollTo(0,0)}},{key:"showNavigation",value:function(){this.setState({headerHidden:!1})}},{key:"render",value:function(){return r.a.createElement("header",{className:"header-content ".concat(this.state.headerHidden?"header-content--hidden":"")},r.a.createElement(Q,{hideNavigation:this.hideNavigation,showNavigation:this.showNavigation}),r.a.createElement(z,{routes:this.props.routes,hideNavigation:this.hideNavigation}))}}]),t}(a.Component),X=n(20),Y=function(e){var t=e.article,n=e.category,a=e.index,c=_(t.title);return r.a.createElement("article",{className:"article article--".concat(a)},r.a.createElement("div",{className:"article__article-image-container"},r.a.createElement("img",{className:"article__article-image",src:t.urlToImage,alt:t.title})),r.a.createElement("div",{className:"article__article-heading-container"},r.a.createElement("span",{className:"article__article-source"},t.source.name),r.a.createElement("h2",{className:"article__article-heading"},r.a.createElement(o.b,{to:"".concat(n,"/").concat(c),className:"article__article-heading-link"},t.title))))},Z=function(e){var t=e.articles,n=e.category;return t.map(function(e,t){return r.a.createElement(Y,{article:e,category:n,index:t,key:t})})},ee=n(45),te=function(e){var t=e.index;return r.a.createElement("div",{className:"article article--".concat(t)})},ne=function(){return Object(ee.a)(Array(10)).map(function(e,t){return r.a.createElement(te,{index:t,key:t})})},ae=function(){return r.a.createElement("section",{className:"offline-status"},r.a.createElement("span",{className:"offline-status__message"},"There is a network error and your internet connection has dropped. Please try to reconnect!"))},re=function(e){function t(){return Object(M.a)(this,t),Object(F.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.props.getNewsDispatch(this.props.category)}},{key:"render",value:function(){var e,t,n=this.props.news[this.props.category];if(n)switch(n.status){case"ok":e=r.a.createElement(Z,{articles:n.articles,category:this.props.match.path}),t="loaded";break;case"error":e=n.articles.length>0?r.a.createElement(Z,{articles:n.articles,category:this.props.match.path}):r.a.createElement("p",null,"We are having trouble fetching your news."),t="loaded";break;default:e=r.a.createElement(ne,null),t="loading"}else e=r.a.createElement(ne,null),t="loading";return r.a.createElement("section",{className:"main-content"},!this.props.onlineStatus.online&&r.a.createElement(ae,null),r.a.createElement("h1",{className:"page-title"},this.props.category," News"),r.a.createElement("section",{className:"news-grid news-grid--".concat(t)},e))}}]),t}(a.Component),ce=Object(X.e)(Object(s.b)(function(e){return{news:e.newsReducer,onlineStatus:e.onlineStatusReducer}},function(e){return{getNewsDispatch:function(t){return e(E(t))}}})(re)),ie=function(e){function t(){var e;return Object(M.a)(this,t),(e=Object(F.a)(this,Object(G.a)(t).call(this))).fetchNews=e.fetchNews.bind(Object(K.a)(Object(K.a)(e))),e}return Object(J.a)(t,e),Object(B.a)(t,[{key:"fetchNews",value:function(){this.props.news[this.props.category]||this.props.getNewsDispatch(this.props.category)}},{key:"componentDidMount",value:function(){this.fetchNews()}},{key:"render",value:function(){var e=this,t=this.props.news;if(t[this.props.category]){var n=t[this.props.category].articles.find(function(t){return t.id===e.props.match.params.articleId});return n?r.a.createElement("section",{className:"main-content"},r.a.createElement("div",{className:"page-article"},r.a.createElement("h1",{className:"page-title"},n.title),r.a.createElement("img",{className:"page-article__image",src:n.urlToImage,alt:n.title}),r.a.createElement("p",null,n.content))):r.a.createElement("p",null,"This article does not exist anymore")}return r.a.createElement("p",null,"Currently fetching this article")}}]),t}(a.Component),oe=Object(X.e)(Object(s.b)(function(e){return{news:e.newsReducer}},function(e){return{getNewsDispatch:function(t){return e(E(t))}}})(ie)),se=function(e){function t(){return Object(M.a)(this,t),Object(F.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"main"},r.a.createElement(X.b,{exact:!0,path:"/",render:function(){return r.a.createElement(X.a,{to:"/home"})}}),this.props.routes.map(function(e,t){return r.a.createElement(X.b,{exact:!0,path:"/".concat(e.route),key:t,render:function(){return r.a.createElement(ce,{category:e.category})}})}),this.props.routes.map(function(e,t){return r.a.createElement(X.b,{path:"/".concat(e.route,"/:articleId"),key:t,render:function(t){return r.a.createElement(oe,Object.assign({},t,{category:e.category}))}})}))}}]),t}(a.Component),le=(n(82),function(){return r.a.createElement(s.a,{store:I},r.a.createElement(o.a,null,r.a.createElement("div",{className:"page-container"},r.a.createElement(V,{routes:H}),r.a.createElement(se,{routes:H}))))}),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(le,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ue?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):he(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):he(t,e)})}}()}},[[47,1,2]]]);
//# sourceMappingURL=main.34ca9a72.chunk.js.map